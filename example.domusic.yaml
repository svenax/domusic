# Example configuration file for domusic.

# Root directory of your music files.
root: "/path/to/music"

# Editor for Lilypond files. This needs to be a command line program.
ly-editor: "code -r"

# PDF viewer. This needs to be an application name or identifier.
ly-viewer: "Preview"

# Sync configuration -----------------------------------------------------------

sync:
  # Remote server hostname or IP address
  server: "your-server.com"

  # Username for SSH connection
  user: "your-username"

  # Remote path where files should be uploaded
  path: "/var/www/html/music/"

  # Optional: SSH private key file (if not using default ~/.ssh/id_rsa)
  ssh-key: "~/.ssh/music_server_key"

  # Optional: Default include patterns (applied in addition to --include flags)
  include:
  - "*.pdf"
  - "*.png"

  # Optional: Default exclude patterns (applied in addition to --exclude flags)
  # Note that these patterns operate only on files already included.
  exclude:
  - "!*.pdf"
  - "!*.png"

# Templates --------------------------------------------------------------------

template:
  common: |
    %% Common settings for all generated Lilypond files.

    \version "{{.version}}"

    \pointAndClick{{if .pointAndClick}}On{{else}}Off{{end}}

    #(set-global-staff-size {{.staffSize}})
    #(set-default-paper-size "{{.paperSize}}" '{{if .landscape}}landscape{{else}}portrait{{end}})

    {{if .fontInclude}}\include "{{.fontInclude}}.ily"{{end}}
    % Add extra includes here
    \include "./header_{{.headerFormat}}.ly"

    \paper {
      annotate-spacing = {{if .viewSpacing}}##t{{else}}##f{{end}}
      ragged-bottom = ##t
    }
    \layout {
      \context {
        \Score
        \autoPageBreaksOff
      }
    }

  # Used by the `collection` command to create a TOC page.
  collection: |
    %% Generated from {{.sourceFile}} by domusic

    {{.common}}

    \header {
      title = "{{.title}}"
    }
    \paper {
      tocItemMarkup = \tocItemWithDotsMarkup
    }

    \markuplist \table-of-contents
    \pageBreak

    %% The tunes to include in the collection.

  # Used by the `make` command to set common configuration for each tune.
  make: |
    %% Generated from {{.sourceFile}} by domusic

    {{.common}}

    \paper {
      {{if .removeTagline}}tagline = ""{{end}}
    }

    %% The tune to generate.
